import"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js";document.addEventListener("DOMContentLoaded",()=>{const o=JSON.parse(document.getElementById("places-data").textContent),a=JSON.parse(document.getElementById("target-url").textContent),i=JSON.parse(document.getElementById("zoom-level").textContent),e=o.find(t=>t.url==a),c=e?[e.lat,e.lng]:[35.97607932324101,140.1408927819724],n=L.map("map").setView(c,i);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors"}).addTo(n);const s=L.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),o.forEach(t=>{var r=s;t.icon!="undefined"&&(r=L.icon({iconUrl:t.icon,iconSize:[50,50],iconAnchor:[25,50],popupAnchor:[0,-50]})),L.marker([t.lat,t.lng],{icon:r}).addTo(n).bindPopup(`<a href="${t.url}">${t.title}</a>`)})});
