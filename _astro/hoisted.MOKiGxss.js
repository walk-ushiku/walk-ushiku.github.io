import"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js";document.addEventListener("DOMContentLoaded",()=>{const r=JSON.parse(document.getElementById("places-data").textContent),c=JSON.parse(document.getElementById("target-url").textContent),s=JSON.parse(document.getElementById("center").textContent),d=JSON.parse(document.getElementById("zoom-level").textContent),t=r.find(e=>e.url==c),p=t?[t.lat,t.lng]:s,i=L.map("map").setView(p,d);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors"}).addTo(i);const l=L.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),m=L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});r.forEach(e=>{var o=l;e.icon=="redIcon"?o=m:e.icon!="undefined"&&(o=L.icon({iconUrl:e.icon,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}));const a=L.marker([e.lat,e.lng],{icon:o,zIndexOffset:e.addPopup?1e4:0}).addTo(i);var n=void 0;n=`<a href="${e.url}">${e.title}</a>`,e.addPopup===!0?a.bindPopup(n,{autoClose:!1,closeOnClick:!1}).openPopup():a.bindPopup(n)})});
